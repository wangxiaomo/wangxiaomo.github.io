
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>PerlDoc学习笔记(一) - 小默的研究中心</title>
  <meta name="author" content="wangxiaomo">

  
  <meta name="description" content="Perl is a free-form language, you can format and indent it however you like. Whitespace mostly serves to separate tokens, unlike languages like &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://wangxiaomo.github.com/blog/2011/02/04/PerlDoc%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%28%E4%B8%80%29/">
  <link href="/oct/favicon.png" rel="icon">
  <link href="/oct/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/oct/javascripts/modernizr-2.0.js"></script>
  <script src="/oct/javascripts/ender.js"></script>
  <script src="/oct/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/oct/blog/atom.xml" rel="alternate" title="小默的研究中心" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/oct/">小默的研究中心</a></h1>
  
    <h2>Perl | PHP | Python...技术宅.微博控</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/oct/blog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:wangxiaomo.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/oct/">Blog</a></li>
  <li><a href="/oct/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">PerlDoc学习笔记(一)</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-04T03:24:00+08:00" pubdate data-updated="true">Feb 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Perl is a free-form language, you can format and indent it however you like. Whitespace mostly serves to separate tokens, unlike languages like Python where it is an important part of the syntax.
<font color="blue">本人一直觉得Python的代码风格不是我的最爱.不过写出来确实清晰.Python自带的库很全面.不过Perl也不差.CPAN也很给力.</font>
A variable holds the undefined value (undef) until it has been assigned a defined value, which is anything other than undef. When used as a number, undef is treated as 0 ; when used as a string, it is treated as the empty string, &#8220;&#8221; ; and when used as a reference that isn&#8217;t being assigned to, it is treated as an error. If you enable warnings, you&#8217;ll be notified of an uninitialized value whenever you treat undef as a string or a number. Well, usually. Boolean contexts, such as:</p>

<pre lang="perl">
my $a;    
if ($a) {}
</pre>


<p>are exempt from warnings (because they care about truth rather than definedness). Operators such as ++ , &#8211; , += , -= , and .= , that operate on undefined left values such as:</p>

<pre lang="perl">
my $a;
$a++;
</pre>


<p>are also always exempt from such warnings.
<font color="blue">这个没什么好说的.</font></p>

<!--more-->


<p>The number 0, the strings &#8216;0&#8217; and &#8221; , the empty list () , and undef are all false in a boolean context. All other values are true. Negation of a true value by ! or not returns a special false value.
<font color="blue">这个依然没什么好说的.</font>
String literals are usually delimited by either single or double quotes. They work much like quotes in the standard Unix shells: double-quoted string literals are subject to backslash and variable substitution; single-quoted strings are not (except for &#39; and \ ). The usual C-style backslash rules apply for making characters such as newline, tab, etc., as well as some more exotic forms.
<font color="blue">曾经一直有个错误的概念.就是双引号的内容可以引用变量.为了加快脚本解析速度.在纯字串(包含大量转义)时使用单引号.
看了这个知道了.单引号内只能转义\和&#8217;.后来测试了一堆.发现php.ruby等都不可以.python的单引号不是一般用法.除去!</font>
State.Just because a lexical variable is lexically (also called statically) scoped to its enclosing block, eval, or do FILE, this doesn&#8217;t mean that within a function it works like a C static. It normally works more like a C auto, but with implicit garbage collection.
<font color="blue">在Perl 5.10中引入了state.就是c语言中的static.使用state 定义变量前.需要use feature &#8220;:5.10&#8221;; 然后就可以用类似C语言的方法处理变量了. 这个静态变量只是通过代码手段模拟的.并不是像C语言一样存在于静态区.</font>
Binary &#8220;!~&#8221; is just like &#8220;=~&#8221; except the return value is negated in the logical sense.
<font color="blue">锚定.之前倒是一直在用=~.!~这个东西还真给忘了.记得曾经看过.mark下</font>
Binary &#8220;%&#8221; is the modulo operator, which computes the division remainder of its first argument with respect to its second argument. Given integer operands $a and $b : If $b is positive, then $a % $b is $a minus the largest multiple of $b less than or equal to $a . If $b is negative, then $a % $b is $a minus the smallest multiple of $b that is not less than $a (i.e. the result will be less than or equal to zero). If the operands $a and $b are floating point values and the absolute value of $b (that is abs($b)) is less than (UV_MAX + 1) , only the integer portion of $a and $b will be used in the operation (Note: here UV_MAX means the maximum of the unsigned integer type). If the absolute value of the right operand (abs($b)) is greater than or equal to (UV_MAX + 1) , &#8220;%&#8221; computes the floating-point remainder $r in the equation ($r = $a - $i*$b) where $i is a certain integer that makes $r have the same sign as the right operand $b (not as the left operand $a like C function fmod() ) and the absolute value less than that of $b . Note that when use integer is in scope, &#8220;%&#8221; gives you direct access to the modulo operator as implemented by your C compiler. This operator is not as well defined for negative operands, but it will execute faster.
<font color="blue">这个是取余的各种情况的运算原理.太复杂了.charley.交给你了.看懂了给我讲哇.我懒得看了.</font>
Although it has no direct equivalent in C, Perl&#8217;s // operator is related to its C-style or. In fact, it&#8217;s exactly the same as ||, except that it tests the left hand side&#8217;s definedness instead of its truth. Thus, $a // $b is similar to defined($a) || $b (except that it returns the value of $a rather than the value of defined($a)) and is exactly equivalent to defined($a) ? $a : $b . This is very useful for providing default values for variables. If you actually want to test if at least one of $a and $b is defined, use defined($a // $b) .
<font color="blue">虽然// || or这三个意义广义上理解差不多.但是还是有许多细节上的差别的.||和or就不说了.这个很基本.//的含义如上.//有个检查的过程.$a//$b &lt;==>defined($a)||$b ps: &lt;==>运算符.也挺牛X的.</font>
The ||, // and &amp;&amp; operators return the last value evaluated (unlike C&#8217;s || and &amp;&amp;, which return 0 or 1).</p>

<pre lang="perl">
$home = $ENV{'HOME'} // $ENV{'LOGDIR'} //(getpwuid($<))[7] 
        // die "You're homeless!\n";
</pre>


<p><font color="red">这个没体会出什么明显的细节.标记下</font>
@a = @b||@c; same as @a = scalar(@b)||@c; in fact . u should @a = @b?@b:@c;
<font color="red">这个用法确实要注意`.</font>
As more readable alternatives to &amp;&amp; and || when used for control flow, Perl provides the and and or operators (see below). The short-circuit behavior is identical. The precedence of &#8220;and&#8221; and &#8220;or&#8221; is much lower, however, so that you can safely use them after a list operator without the need for parentheses
<font color="blue">这个是|| or的差别. 优先级的问题.or的优先级很低.比赋值都低.我就不淡定了.</font>
&#8221;  q{}
&#8221;&#8221;  qq{}
&#8220;  qx{}</p>

<pre><code>qw{}    world List
</code></pre>

<p>//  m{}
<font color="blue">这个也很常用.省去了转义的麻烦(qq.q)</font>
?PATTERN? This is just like the /pattern/ search, except that it matches only once between calls to the reset() operator. This is a useful optimization when you want to see only the first occurrence of something in each file of a set of files, for instance. Only ?? patterns local to the current package are reset
<font color="blue">这个比较关键.? ?可以记忆正则的位置&#8230;可以省去使用$`$&amp;$&#8217;的方法. 毕竟太影响效率</font>
In scalar context, evaluating a filehandle in angle brackets yields the next line from that file (the newline, if any, included), or undef at end-of-file or on error. When $/ is set to undef (sometimes known as file-slurp mode) and the file is empty, it returns &#8221; the first time, followed by undef subsequently
<font color="blue">这个是在读文件时对$\的设置.</font>
1.    -r  File is readable by effective uid/gid.
2.    -w  File is writable by effective uid/gid.
3.    -x  File is executable by effective uid/gid.
4.    -o  File is owned by effective uid.
5.
6.    -R  File is readable by real uid/gid.
7.    -W  File is writable by real uid/gid.
8.    -X  File is executable by real uid/gid.
9.    -O  File is owned by real uid.
10.
11.    -e  File exists.
12.    -z  File has zero size (is empty).
13.    -s  File has nonzero size (returns size in bytes).
14.
15.    -f  File is a plain file.
16.    -d  File is a directory.
17.    -l  File is a symbolic link.
18.    -p  File is a named pipe (FIFO), or Filehandle is a pipe.
19.    -S  File is a socket.
20.    -b  File is a block special file.
21.    -c  File is a character special file.
22.    -t  Filehandle is opened to a tty.
23.
24.    -u  File has setuid bit set.
25.    -g  File has setgid bit set.
26.    -k  File has sticky bit set.
27.
28.    -T  File is an ASCII text file (heuristic guess).
29.    -B  File is a &#8220;binary&#8221; file (opposite of -T).
30.
31.    -M  Script start time minus file modification time, in days.
32.    -A  Same for access time.
33.    -C  Same for inode change time (Unix, may differ for other platforms)
<font color="blue">这个是文件测试符.挺有用的.只要涉及到linux编程的东西.这个基本都可以用.</font>
chomp. When in paragraph mode ($/ = &#8220;&#8221; ), it removes all trailing newlines from the string. When in slurp mode ($/ = undef ) or fixed-length record mode ($/ is a reference to an integer or the like, see perlvar) chomp() won&#8217;t remove anything.
<font color="blue">这个是在chomp的时候对$/的设置</font>
If do cannot read the file, it returns undef and sets $! to the error. If do can read the file but cannot compile it, it returns undef and sets an error message in $@ . If the file is successfully compiled, do returns the value of the last expression evaluated.Inclusion of library modules is better done with the use and require operators, which also do automatic error checking and raise an exception if there&#8217;s a problem.
<font color="blue">这个是do的操作返回.一般涉及到多文件操作.除了使用use/require包含pm文件时.就是用do &#8220;perl.pl&#8221;包含.</font>
Don&#8217;t use exit to abort a subroutine if there&#8217;s any chance that someone might want to trap whatever error happened. Use die instead, which can be trapped by an eval.
<font color="blue">这个也是一个编程技巧的体现.在有异常机制的语言中.我们也应该在子程序中以异常形式结束.perl也是有异常处理的.不过那个模块太蛋疼.</font>
If you fork without ever waiting on your children, you will accumulate zombies. On some systems, you can avoid this by setting $SIG{CHLD} to &#8220;IGNORE&#8221; .Note that if your forked child inherits system file descriptors like STDIN and STDOUT that are actually connected by a pipe or socket, even if you exit, then the remote server (such as, say, a CGI script or a backgrounded job launched from a remote shell) won&#8217;t think you&#8217;re done. You should reopen those to /dev/null if it&#8217;s any issue.
<font color="blue">这个是Perl对进程的操作.fork之后子进程结束.如果不进行waitpid等操作的回收的话.会在一段时间内保持进程表资源.这是一种极大的浪费.我们可以通过waitpid结束.或者在END{}块里加上对所有进程的waitpid的操作.或者直接忽略SIGCHLD信号.在新建进程中会公用STDIN.STDOUT.STDERR等句柄.这会有一定的风险.所以果断close之后再重新open打开到/dev/null.</font>
Do not consider getlogin for authentication: it is not as secure as getpwuid/getlogin This implements the C library function of the same name, which on most systems returns the current login from /etc/utmp, if any. If it returns the empty string, use getpwuid.
<font color="blue">这个编程的时候注意一下子就好了.</font>
getpgrp PID Returns the current process group for the specified PID. Use a PID of 0 to get the current process group for the current process. Will raise an exception if used on a machine that doesn&#8217;t implement getpgrp(2). If PID is omitted, returns process group of current process. Note that the POSIX version of getpgrp does not accept a PID argument, so only PID==0 is truly portable.
<font color="blue">这个不解释</font>
kill SIGNAL PROCESS_LIST.If SIGNAL is zero, no signal is sent to the process, but kill checks whether it&#8217;s possible to send a signal to it (that means, to be brief, that the process is owned by the same user, or we are the super-user). This is useful to check that a child process is still alive (even if only as a zombie) and hasn&#8217;t changed its UID.Unlike in the shell, if SIGNAL is negative, it kills process groups instead of processes. That means you usually want to use positive not negative signals. You may also use a signal name in quotes.The behavior of kill when a PROCESS number is zero or negative depends on the operating system. For example, on POSIX-conforming systems, zero will signal the current process group and -1 will signal all processes.
<font color="blue">这个讲解了kill的用法.</font>
Like all Perl character operations, length() normally deals in logical characters, not physical bytes. For how many bytes a string encoded as UTF-8 would take up, use length(Encode::encode_utf8(EXPR)) (you&#8217;ll have to use Encode first).
<font color="blue">这个也算是编程技巧.utf8.只是逻辑读取的规则.编码什么的.最讨厌了.</font>
open.You can put a &#8216;+&#8217; in front of the &#8216;>&#8217; or &#8216;&lt;&#8217; to indicate that you want both read and write access to the file; thus &#8216;+&lt;&#8217; is almost always preferred for read/write updates&#8211;the &#8216;+>&#8217; mode would clobber the file first. You can&#8217;t usually use either read-write mode for updating textfiles, since they have variable length records. See the -i switch in perlrun for a better approach.In the two-argument (and one-argument) form, opening &#8216;&lt;-&#8217; or &#8216;-&#8217; opens STDIN and opening &#8216;>-&#8217; opens STDOUT.As a special case the 3-arg form with a read/write mode and the third argument being undef:open(my $tmp, &#8220;+>&#8221;, undef) or die &#8230;opens a filehandle to an anonymous temporary file. Also using &#8220;+&lt;&#8221; works for symmetry, but you really should consider writing something to the temporary file first. You will need to seek() to do the reading.
<font color="blue">这个比较重要+&lt;或者+>都可以使文件读写打开.可是在操作的时候一定要搞清楚文件指针所在的位置.重点是对临时文件的操作.太经典了.</font>
目前进行到这里.PerlFunc的内容太多了. 因为懒惰. 搁置了好长时间了. 今天继续&#8230;.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">wangxiaomo</span></span>

      








  


<time datetime="2011-02-04T03:24:00+08:00" pubdate data-updated="true">Feb 4<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/oct/blog/categories/perldoc/'>PerlDoc</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://wangxiaomo.github.com/blog/2011/02/04/PerlDoc%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%28%E4%B8%80%29/" data-via="" data-counturl="http://wangxiaomo.github.com/blog/2011/02/04/PerlDoc%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%28%E4%B8%80%29/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/oct/blog/2011/02/03/wordpress%E8%87%AA%E5%88%B6share/" title="Previous Post: wordpress自制share">&laquo; wordpress自制share</a>
      
      
        <a class="basic-alignment right" href="/oct/blog/2011/02/07/Nginx%E7%9B%AE%E5%BD%95%E6%98%BE%E7%A4%BA%E4%BB%A5%E5%8F%8A%E4%B8%8EPHP%E7%9A%84%E4%BA%A4%E4%BA%92/" title="Next Post: Nginx目录显示以及与PHP的交互">Nginx目录显示以及与PHP的交互 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/oct/blog/2012/06/11/emacs_auto-complete_plugins/">emacs_auto-complete_plugins</a>
      </li>
    
      <li class="post">
        <a href="/oct/blog/2012/06/09/LaTex_CJK_%E5%AD%97%E4%BD%93%E9%97%AE%E9%A2%98%5BLinux%5D/">LaTex_CJK_字体问题[Linux]</a>
      </li>
    
      <li class="post">
        <a href="/oct/blog/2012/06/08/nmap_%E4%BD%BF%E7%94%A8./">nmap_使用.</a>
      </li>
    
      <li class="post">
        <a href="/oct/blog/2012/06/07/Arch_PGP_xxx_unknown_%E8%A7%A3%E5%86%B3/">Arch_PGP_xxx_unknown_解决</a>
      </li>
    
      <li class="post">
        <a href="/oct/blog/2012/06/04/Mongo_%E8%81%9A%E5%90%88/">Mongo_聚合</a>
      </li>
    
  </ul>
</section>





<section>
 <h1>Categories</h1>
 <ul id="categories">
 <li class='category'><a href='/oct/blog/categories/android开发/'>Android开发 (16)</a></li>
<li class='category'><a href='/oct/blog/categories/apache/'>Apache (6)</a></li>
<li class='category'><a href='/oct/blog/categories/django/'>Django (3)</a></li>
<li class='category'><a href='/oct/blog/categories/linux/'>Linux (38)</a></li>
<li class='category'><a href='/oct/blog/categories/lisp/'>Lisp (1)</a></li>
<li class='category'><a href='/oct/blog/categories/mapx开发/'>MapX开发 (3)</a></li>
<li class='category'><a href='/oct/blog/categories/mongo/'>Mongo (2)</a></li>
<li class='category'><a href='/oct/blog/categories/moose::manual::attributes/'>Moose::Manual::Attributes (1)</a></li>
<li class='category'><a href='/oct/blog/categories/moose::manual::classes/'>Moose::Manual::Classes (1)</a></li>
<li class='category'><a href='/oct/blog/categories/moose::manual::concepts/'>Moose::Manual::Concepts (1)</a></li>
<li class='category'><a href='/oct/blog/categories/mysql/'>MySQL (3)</a></li>
<li class='category'><a href='/oct/blog/categories/nginx/'>Nginx (2)</a></li>
<li class='category'><a href='/oct/blog/categories/php/'>PHP (30)</a></li>
<li class='category'><a href='/oct/blog/categories/perl/'>Perl (32)</a></li>
<li class='category'><a href='/oct/blog/categories/perldoc/'>PerlDoc (1)</a></li>
<li class='category'><a href='/oct/blog/categories/python/'>Python (42)</a></li>
<li class='category'><a href='/oct/blog/categories/wordpress/'>WordPress (1)</a></li>
<li class='category'><a href='/oct/blog/categories/keepalive/'>keepalive (1)</a></li>
<li class='category'><a href='/oct/blog/categories/linux查看系统状态/'>linux查看系统状态 (1)</a></li>
<li class='category'><a href='/oct/blog/categories/lisp/'>lisp (1)</a></li>
<li class='category'><a href='/oct/blog/categories/make/'>make (1)</a></li>
<li class='category'><a href='/oct/blog/categories/man高亮/'>man高亮 (1)</a></li>
<li class='category'><a href='/oct/blog/categories/moose/'>moose (1)</a></li>
<li class='category'><a href='/oct/blog/categories/pdf/'>pdf (1)</a></li>
<li class='category'><a href='/oct/blog/categories/perlpod/'>perlpod (1)</a></li>
<li class='category'><a href='/oct/blog/categories/pkill/'>pkill (1)</a></li>
<li class='category'><a href='/oct/blog/categories/server/'>server (1)</a></li>
<li class='category'><a href='/oct/blog/categories/skills/'>skills (1)</a></li>
<li class='category'><a href='/oct/blog/categories/sql/'>sql (1)</a></li>
<li class='category'><a href='/oct/blog/categories/ssh/'>ssh (2)</a></li>
<li class='category'><a href='/oct/blog/categories/svn/'>svn (1)</a></li>
<li class='category'><a href='/oct/blog/categories/ubuntu/'>ubuntu (2)</a></li>
<li class='category'><a href='/oct/blog/categories/wp摘要/'>wp摘要 (1)</a></li>
<li class='category'><a href='/oct/blog/categories/wp页面模版/'>wp页面模版 (1)</a></li>
<li class='category'><a href='/oct/blog/categories/乱七八糟/'>乱七八糟 (24)</a></li>
<li class='category'><a href='/oct/blog/categories/前端技术/'>前端技术 (8)</a></li>
<li class='category'><a href='/oct/blog/categories/回归/'>回归 (1)</a></li>
<li class='category'><a href='/oct/blog/categories/设计模式/'>设计模式 (1)</a></li>
<li class='category'><a href='/oct/blog/categories/集体智慧/'>集体智慧 (7)</a></li>

 </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - wangxiaomo -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
